(this.webpackJsonpcoinmoon=this.webpackJsonpcoinmoon||[]).push([[0],{176:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(59),s=n.n(a),i=(n(67),n(13)),o=n.n(i),u=n(37),d=n(7),b=n(62),j=n(1);var l=function(e){var t=e.price,n=e.data;return"0.00"===t?Object(j.jsx)("h2",{children:"please select a currency pair"}):Object(j.jsxs)("div",{className:"dashboard",children:[Object(j.jsx)("h2",{children:"$".concat(t)}),Object(j.jsx)("div",{className:"chart-container",children:Object(j.jsx)(b.a,{data:n,options:{tooltips:{intersect:!1,mode:"index"},responsive:!0,maintainAspectRatio:!1}})})]})},f=function(e){var t={labels:[],datasets:[{label:"Price",data:[],backgroundColor:"#00000",borderColor:"#BDBDBD",fill:!1}]},n=e.map((function(e){var t=e[0],n=new Date(1e3*t),c=n.getDate(),r=n.getMonth()+1,a=n.getFullYear();return"".concat(r,"-").concat(c,"-").concat(a)})),c=e.map((function(e){return e[4]}));return c.reverse(),n.reverse(),t.labels=n,t.datasets[0].data=c,t};n(176);function p(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(d.a)(a,2),i=s[0],b=s[1],p=Object(c.useState)("0.00"),h=Object(d.a)(p,2),O=h[0],v=h[1],m=Object(c.useState)({}),x=Object(d.a)(m,2),y=x[0],g=x[1],w=Object(c.useRef)(null),k=Object(c.useRef)(!1),S="https://api.pro.coinbase.com";Object(c.useEffect)((function(){w.current=new WebSocket("wss://ws-feed.pro.coinbase.com");var e=[];(function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(S+"/products").then((function(e){return e.json()})).then((function(t){return e=t}));case 2:n=(n=e.filter((function(e){return e.quote_currency,e}))).sort((function(e,t){return e.base_currency<t.base_currency?-1:e.base_currency>t.base_currency?1:0})),r(n),k.current=!0;case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){if(k.current){var e={type:"subscribe",product_ids:[i],channels:["ticker"]},t=JSON.stringify(e);w.current.send(t);var n="".concat(S,"/products/").concat(i,"/candles?granularity=21600");(function(){var e=Object(u.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,fetch(n).then((function(e){return e.json()})).then((function(e){return t=e}));case 3:c=f(t),g(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),w.current.onmessage=function(e){var t=JSON.parse(e.data);"ticker"===t.type&&t.product_id===i&&v(t.price)}}}),[i]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("nav",{children:Object(j.jsx)("h1",{children:"Coinmoon\ud83d\ude80"})}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("select",{name:"currency",value:i,onChange:function(e){var t={type:"unsubscribe",product_ids:[i],channels:["ticker"]},n=JSON.stringify(t);w.current.send(n),b(e.target.value)},children:n.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.display_name},t)}))}),Object(j.jsx)(l,{price:O,data:y})]})]})}s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(p,{})}),document.getElementById("root"))},67:function(e,t,n){}},[[177,1,2]]]);
//# sourceMappingURL=main.79e60bab.chunk.js.map